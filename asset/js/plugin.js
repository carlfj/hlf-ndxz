function $d(a){return document.getElementById(a)}function $S(a){return $d(a).style}function agent(a){return Math.max(navigator.userAgent.toLowerCase().indexOf(a),0)}function toggle(a){$S(a).display=$S(a).display=="none"?"block":"none"}function within(a,b,d){return a>=b&&a<=d?true:false}function XY(a,b){return(agent("msie")?[event.clientX+document.body.scrollLeft,event.clientY+document.body.scrollTop]:[a.pageX,a.pageY])[zero(b)]} function XYwin(a){var b=agent("msie")?[document.body.clientHeight,document.body.clientWidth]:[window.innerHeight,window.innerWidth];return!isNaN(a)?b[a]:b}function zero(a){a=parseInt(a);return!isNaN(a)?a:0}var maxValue={h:360,s:100,v:100},HSV={0:360,1:100,2:100},hSV=165,wSV=162,hH=163,slideHSV={0:360,1:100,2:100},zINDEX=15,stop=1; function HSVslide(a,b,d){function e(f,g,k){return Math.min(f,Math.max(0,Math.ceil(parseInt(k)/g*f)))}function c(f,g){if(within(f,0,g))return f;else if(f>g)return g;else if(f<0)return"-"+l}function h(f){if(!stop){if(a!="drag"){m=XY(f,1)-o;n=XY(f)-p}if(a=="SVslide"){i.left=c(n-l,wSV)+"px";i.top=c(m-l,wSV)+"px";slideHSV[1]=e(100,wSV,i.left);slideHSV[2]=100-e(100,wSV,i.top);HSVupdate()}else if(a=="Hslide"){f=c(m-l,hH);var g,k={};i.top=f-5+"px";slideHSV[0]=e(360,hH,f);for(var j=0;j<=2;j++){g="hsv".substr(j, 1);k[j]=g=="h"?maxValue[g]-e(maxValue[g],hH,f):HSV[j]}HSVupdate(k);$S("SV").backgroundColor="#"+hsv2hex([HSV[0],100,100])}else if(a=="drag"){i.left=XY(f)+q-r+"px";i.top=XY(f,1)+s-t+"px"}}}if(stop){stop="";var i=$S(a!="drag"?a:b);if(a=="drag"){var q=parseInt(i.left),s=parseInt(i.top),r=XY(d),t=XY(d,1);$S(b).zIndex=zINDEX++}else{var p=$d(b).offsetLeft+10,o=$d(b).offsetTop+22,n,m,l=a=="Hslide"?2:4;if(a=="SVslide")slideHSV[0]=HSV[0]}document.onmousemove=h;document.onmouseup=function(){stop=1;document.onmousemove= "";document.onmouseup=""};h(d)}}function HSVupdate(a){a=hsv2hex(HSV=a?a:slideHSV);mkColor(a);$d("colorTest2").innerHTML="#"+a;return $d("colorTest").value=a}function loadSV(){for(var a="",b=hSV;b>=0;b--)a+='<div style="BACKGROUND: #'+hsv2hex([Math.round(360/hSV*b),100,100])+';"><br /></div>';$d("Hmodel").innerHTML=a} function updateH(a){HSV=hex2hsv(a);$S("SV").backgroundColor="#"+hsv2hex(Array(HSV[0],100,100));$S("SVslide").top=parseInt(wSV-wSV*(HSV[2]/100))-4+"px";$S("SVslide").left=parseInt(wSV*(HSV[1]/100))+"px";$S("Hslide").top=parseInt(wH*((maxValue.h-HSV[0])/maxValue.h))-7+"px"}function toHex(a){a=Math.round(Math.min(Math.max(0,a),255));return"0123456789ABCDEF".charAt((a-a%16)/16)+"0123456789ABCDEF".charAt(a%16)} function hex2rgb(a){return{0:parseInt(a.substr(0,2),16),1:parseInt(a.substr(2,2),16),2:parseInt(a.substr(4,2),16)}}function rgb2hex(a){return toHex(a[0])+toHex(a[1])+toHex(a[2])}function hsv2hex(a){return rgb2hex(hsv2rgb(a))}function hex2hsv(a){return rgb2hsv(hex2rgb(a))} function rgb2hsv(a){var b=Math.max(a[0],a[1],a[2]),d=b-Math.min(a[0],a[1],a[2]),e,c;if(b!=0){c=Math.round(d/b*100);if(a[0]==b)e=(a[1]-a[2])/d;else if(a[1]==b)e=2+(a[2]-a[0])/d;else if(a[2]==b)e=4+(a[0]-a[1])/d;e=Math.min(Math.round(e*60),360);if(e<0)e+=360}return{0:e?e:0,1:c?c:0,2:Math.round(b/255*100)}} function hsv2rgb(a){var b,d,e=a[1]/100,c=a[2]/100,h=a[0]/360;if(e>0){if(h>=1)h=0;h=6*h;F=h-Math.floor(h);A=Math.round(255*c*(1-e));a=Math.round(255*c*(1-e*F));C=Math.round(255*c*(1-e*(1-F)));c=Math.round(255*c);switch(Math.floor(h)){case 0:b=c;d=C;a=A;break;case 1:b=a;d=c;a=A;break;case 2:b=A;d=c;a=C;break;case 3:b=A;d=a;a=c;break;case 4:b=C;d=A;a=c;break;case 5:b=c;d=A;a=a;break}return{0:b?b:0,1:d?d:0,2:a?a:0}}else return{0:c=Math.round(c*255),1:c,2:c}};